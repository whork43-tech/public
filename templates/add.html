<!doctype html>
<html lang="zh-Hant">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>新增 - 分期記帳</title>
  <link rel="stylesheet" href="/static/style.css?v=999">
</head>

<body>
  <div class="container">
    <h1>新增</h1>

    <div class="card" style="display:flex; justify-content:space-between; align-items:center;">
      <div>目前登入：<b>{{ user.username }}</b></div>
      <a class="btn" href="/">回首頁</a>
    </div>

    <div class="card">
      <form method="post" action="/add" class="form-grid">

        <label>建立日
          <input type="date" name="created_date" required>
        </label>

        <label>名稱
          <input type="text" name="name" required>
        </label>

        <label>票面（金額）
          <input type="number" name="face_value" min="0" placeholder="例如：1000" required>
        </label>

        <label>支出
          <input type="number" name="total_amount" min="0" placeholder="例如：24000" required>
        </label>

        <label>每期金額
          <input type="number" name="amount" min="0" placeholder="例如：3500" required>
        </label>

        <label>期數
          <input type="number" name="periods" min="1" placeholder="例如：8" required>
        </label>

        <label>繳款週期（每 N 天繳一次）
          <input type="number" name="interval_days" min="1" placeholder="例如：3" required>
        </label>

        <div class="card" style="grid-column: 1 / -1; padding: 12px;">
          <div style="font-weight:700; margin-bottom:6px;">新增日是否做為第一期</div>

          <label style="display:flex; gap:8px; align-items:center; margin:6px 0;">
            <input type="checkbox" name="as_period1" value="1">
            期（= 第 1 期）
          </label>

          <label style="display:flex; gap:8px; align-items:center; margin:6px 0;">
            <input type="checkbox" name="use_face_value" value="1" checked>
            票（票面）
          </label>

          <label style="display:flex; gap:8px; align-items:center; margin:6px 0;">
            <input type="checkbox" name="deduct_first_period_expense" value="1">
            支出（勾選會扣除支出的餘）
          </label>

          <label style="display:flex; gap:8px; align-items:center; margin:6px 0;">
            <input type="checkbox" name="count_today" value="1" checked>
            是否算入今日實收
          </label>

          <div style="font-size: 13px; opacity: .75; margin-top: 6px;">
            以上勾選會自動算入各明細
          </div>
        </div>


        <button type="submit" class="btn primary">儲存</button>
      </form>
    </div>
  </div>
</body>

</html>